{% set promoHeading = (imagePromos.promoHeading + 1) ? : 2 %}

<section class="ma__image-promos js-image-promos">
  {% if imagePromos.compHeading %}
    {% set compHeading = imagePromos.compHeading %}
    {% include "@atoms/04-headings/comp-heading.twig" %}
    {% set promoHeading = (compHeading.level ? : promoHeading) + 1 %}
  {% endif %}
  {% if imagePromos.sidebarHeading %}
    {% set sidebarHeading = imagePromos.sidebarHeading %}
    {% include "@atoms/04-headings/sidebar-heading.twig" %}
    {% set promoHeading = (sidebarHeading.level ? : promoHeading) + 1 %}
  {% endif %}

  {% set promoHeading = compHeading.level ? (compHeading.level + 1) : promoHeading %}
  <div>
    {% for imagePromo in imagePromos.items %}
      {% set imagePromo = imagePromo|merge({"level": promoHeading}) %}
      {% include "@molecules/image-promo.twig" %}
    {% endfor %}
  </div>
</section>
