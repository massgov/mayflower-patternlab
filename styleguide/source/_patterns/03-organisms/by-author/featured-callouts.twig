{% set noBgClass = "" %}
{% set filterClass = "" %}

{% if not featuredCallouts.bgWide %}
  {% set noBgClass = "ma__featured-callouts--no-background" %}
{% endif %}

{% if featuredCallouts.links|length <= 6 or hideFilter %}
  {% set filterClass = "ma__featured-callouts--no-filter" %}
{% endif %}

<section class="ma__featured-callouts {{ noBgClass }} {{ filterClass }}" id="{{ featuredCallouts.id }}">
  {% if featuredCallouts.bgWide %}
    <style>
      #{{ featuredCallouts.id }} {
        background-image: url('{{featuredCallouts.bgNarrow}}');
      }

      @media (min-width: 801px) {
        #{{ featuredCallouts.id }} {
          background-image: url('{{featuredCallouts.bgWide}}');
        }
      }
    </style>
  {% endif %}
  <div class="ma__featured-callouts__container">
    <header class="ma__featured-callouts__header">
      <h2 class="ma__featured-callouts__title">
        {{ featuredCallouts.title }}
      </h2>
      {% if featuredCallouts.links|length > 6 and not hideFilter %}
        <div class="ma__featured-callouts__search">
          {% include "@molecules/keyword-search.twig" %}
        </div>
      {% endif %}
    </header>
    {% if featuredCallouts.featuredLinks %}
      {% if featuredCallouts.featuredHeading %}
        <h3 class="ma__featured-callouts__category">{{ featuredCallouts.featuredHeading }}</h3>
      {% endif %}
      <div class="ma__featured-callouts__items">
        {% for link in featuredCallouts.featuredLinks %}
          {% if link.image %}
            {% set illustratedLink = link %}
            {% include "@molecules/illustrated-link.twig" %}
          {% else %}
            {% set calloutLink = link %}
            {% include "@molecules/callout-link.twig" %}
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
    {% if featuredCallouts.links %}
      {% if featuredCallouts.generalHeading and featuredCallouts.featuredLinks %}
        <h3 class="ma__featured-callouts__category">{{ featuredCallouts.generalHeading }}</h3>
      {% endif %}
      <div class="ma__featured-callouts__items ma__featured-callouts__items--all">
        {% for link in featuredCallouts.links %}
          {% if link.image %}
            {% set illustratedLink = link %}
            {% include "@molecules/illustrated-link.twig" %}
          {% else %}
            {% set calloutLink = link %}
            {% include "@molecules/callout-link.twig" %}
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
  </div>
  {% if featuredCallouts.seeAll %}
    <div class="ma__featured-callouts__see-all">
      <div class="ma__featured-callouts__see-all-container">
        {% set decorativeLink = featuredCallouts.seeAll %}
        {% include "@atoms/decorative-link.twig" %}
      </div>
    </div>
  {% endif %}
</section>
